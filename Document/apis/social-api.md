# Collide ç¤¾äº¤æœåŠ¡ API æ–‡æ¡£

## æ¦‚è¿°

Collide ç¤¾äº¤æœåŠ¡æä¾›å®Œæ•´çš„ç¤¾äº¤åŠŸèƒ½ï¼ŒåŒ…æ‹¬å†…å®¹å‘å¸ƒã€äº’åŠ¨ç®¡ç†ã€ç»Ÿè®¡æŸ¥è¯¢ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚æ”¯æŒå¤šåª’ä½“å†…å®¹ã€ä»˜è´¹å†…å®¹ã€ç”¨æˆ·äº’åŠ¨ç­‰ç‰¹æ€§ã€‚

**æœåŠ¡ç‰ˆæœ¬**: v2.0.0  
**åŸºç¡€è·¯å¾„**: `/api/social`  
**DubboæœåŠ¡**: `collide-social`  
**è®¾è®¡ç†å¿µ**: æ„å»ºæ´»è·ƒçš„ç¤¾äº¤ç”Ÿæ€ï¼Œä¿ƒè¿›ç”¨æˆ·äº’åŠ¨å’Œå†…å®¹ä¼ æ’­  

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§
- **ğŸ”„ è·¨æ¨¡å—é›†æˆ**: é€šè¿‡DubboæœåŠ¡è°ƒç”¨ç”¨æˆ·ã€æ ‡ç­¾ç­‰æ¨¡å—
- **âš¡ ç¼“å­˜ä¼˜åŒ–**: é›†æˆJetCacheåˆ†å¸ƒå¼ç¼“å­˜ï¼Œæå‡æŸ¥è¯¢æ€§èƒ½
- **ğŸ“Š æ•°æ®èšåˆ**: æ™ºèƒ½èšåˆç”¨æˆ·äº’åŠ¨è®°å½•ï¼Œæä¾›ç»Ÿä¸€çš„ç¤¾äº¤æ•°æ®è§†å›¾
- **ğŸ”’ æƒé™æ§åˆ¶**: ç»†ç²’åº¦çš„éšç§æ§åˆ¶å’Œå†…å®¹æƒé™ç®¡ç†
- **ğŸ“± å“åº”å¼è®¾è®¡**: æ”¯æŒåˆ†é¡µã€æ’åºã€ç­›é€‰ç­‰çµæ´»çš„æ•°æ®æŸ¥è¯¢æ–¹å¼
- **ğŸ’° ä»˜è´¹å†…å®¹**: æ”¯æŒä»˜è´¹å†…å®¹å’Œé‡‘å¸æ”¯ä»˜æ¨¡å¼

### ğŸ†• v2.0.0 æ–°å¢åŠŸèƒ½
- âœ… **DDDæ¶æ„é‡æ„**: é‡‡ç”¨é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼Œæ¸…æ™°çš„åˆ†å±‚æ¶æ„
- âœ… **æ‰¹é‡æ“ä½œä¼˜åŒ–**: æä¾›æ‰¹é‡æŸ¥è¯¢æ¥å£ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚
- âœ… **ç»Ÿè®¡æ•°æ®è¯Šæ–­**: æ–°å¢ç»Ÿè®¡æ•°æ®è¯Šæ–­å’Œä¿®å¤åŠŸèƒ½
- âœ… **ç”¨æˆ·ä¿¡æ¯å¢å¼º**: é›†æˆç”¨æˆ·æœåŠ¡ï¼Œè‡ªåŠ¨å¡«å……ä½œè€…ä¿¡æ¯
- âœ… **æ ‡ç­¾ç³»ç»Ÿé›†æˆ**: æ”¯æŒå†…å®¹æ ‡ç­¾å±•ç¤ºå’ŒæŸ¥è¯¢

---

## å†…å®¹ç®¡ç† API

### 1. åˆ›å»ºå†…å®¹
**æ¥å£è·¯å¾„**: `POST /api/social/content/create`  
**æ¥å£æè¿°**: å‘å¸ƒæ–°çš„ç¤¾äº¤å†…å®¹

#### è¯·æ±‚å‚æ•°
```json
{
  "userId": 12345,                    // å¿…å¡«ï¼Œå‘å¸ƒè€…ç”¨æˆ·ID
  "categoryId": 100,                  // å¿…å¡«ï¼Œåˆ†ç±»ID
  "contentType": 1,                   // å¿…å¡«ï¼Œå†…å®¹ç±»å‹ï¼š1-çŸ­è§†é¢‘,2-é•¿è§†é¢‘,3-å›¾ç‰‡,4-æ–‡å­—
  "title": "ä»Šå¤©å­¦ä¹ äº†Javaè®¾è®¡æ¨¡å¼",    // å¿…å¡«ï¼Œå†…å®¹æ ‡é¢˜
  "description": "åˆ†äº«æˆ‘çš„å­¦ä¹ å¿ƒå¾—",    // å¯é€‰ï¼Œè¯¦ç»†æè¿°
  "mediaUrls": "[\"url1\", \"url2\"]", // å¯é€‰ï¼Œåª’ä½“æ–‡ä»¶URLåˆ—è¡¨(JSONæ ¼å¼)
  "coverUrl": "https://example.com/cover.jpg", // å¯é€‰ï¼Œå°é¢å›¾URL
  "duration": 120,                    // å¯é€‰ï¼Œè§†é¢‘æ—¶é•¿(ç§’)
  "mediaInfo": "{\"width\":1920,\"height\":1080}", // å¯é€‰ï¼Œåª’ä½“ä¿¡æ¯(JSONæ ¼å¼)
  "isPaid": 0,                        // å¯é€‰ï¼Œæ˜¯å¦ä»˜è´¹ï¼š0-å…è´¹,1-ä»˜è´¹
  "price": 10,                        // å¯é€‰ï¼Œä»·æ ¼(é‡‘å¸)
  "freeDuration": 30,                 // å¯é€‰ï¼Œå…è´¹è¯•çœ‹æ—¶é•¿(ç§’)
  "privacy": 1                        // å¯é€‰ï¼Œéšç§è®¾ç½®ï¼š1-å…¬å¼€,2-ä»…å…³æ³¨è€…,3-ç§å¯†
}
```

#### å“åº”ç¤ºä¾‹
**æˆåŠŸå“åº” (200)**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "å†…å®¹åˆ›å»ºæˆåŠŸ",
  "data": 789012
}
```

---

### 2. æ›´æ–°å†…å®¹
**æ¥å£è·¯å¾„**: `PUT /api/social/content/update`  
**æ¥å£æè¿°**: æ›´æ–°å·²å‘å¸ƒçš„å†…å®¹

#### è¯·æ±‚å‚æ•°
```json
{
  "contentId": 789012,                // å¿…å¡«ï¼Œå†…å®¹ID
  "userId": 12345,                    // å¿…å¡«ï¼Œç”¨æˆ·ID
  "title": "ä¿®æ”¹åçš„æ ‡é¢˜",             // å¯é€‰ï¼Œæ–°æ ‡é¢˜
  "description": "ä¿®æ”¹åçš„æè¿°",       // å¯é€‰ï¼Œæ–°æè¿°
  "mediaUrls": "[\"new_url\"]",       // å¯é€‰ï¼Œæ–°çš„åª’ä½“URLåˆ—è¡¨
  "coverUrl": "new_cover.jpg",        // å¯é€‰ï¼Œæ–°å°é¢
  "duration": 150,                    // å¯é€‰ï¼Œæ–°æ—¶é•¿
  "mediaInfo": "{\"quality\":\"HD\"}", // å¯é€‰ï¼Œæ–°åª’ä½“ä¿¡æ¯
  "isPaid": 1,                        // å¯é€‰ï¼Œæ˜¯å¦ä»˜è´¹
  "price": 20,                        // å¯é€‰ï¼Œæ–°ä»·æ ¼
  "freeDuration": 60,                 // å¯é€‰ï¼Œå…è´¹æ—¶é•¿
  "privacy": 2                        // å¯é€‰ï¼Œéšç§è®¾ç½®
}
```

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "å†…å®¹æ›´æ–°æˆåŠŸ",
  "data": true
}
```

---

### 3. åˆ é™¤å†…å®¹
**æ¥å£è·¯å¾„**: `DELETE /api/social/content/{contentId}`  
**æ¥å£æè¿°**: åˆ é™¤æŒ‡å®šå†…å®¹

#### è¯·æ±‚å‚æ•°
- **contentId** (path): å†…å®¹IDï¼Œå¿…å¡«
- **userId** (query): ç”¨æˆ·IDï¼Œå¿…å¡«

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "å†…å®¹åˆ é™¤æˆåŠŸ",
  "data": true
}
```

---

### 4. è·å–å†…å®¹è¯¦æƒ…
**æ¥å£è·¯å¾„**: `GET /api/social/content/{contentId}`  
**æ¥å£æè¿°**: è·å–å†…å®¹è¯¦ç»†ä¿¡æ¯ï¼Œè‡ªåŠ¨å¢åŠ æµè§ˆæ•°

#### è¯·æ±‚å‚æ•°
- **contentId** (path): å†…å®¹IDï¼Œå¿…å¡«
- **viewerUserId** (query): æŸ¥çœ‹è€…ç”¨æˆ·IDï¼Œå¯é€‰

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "id": 789012,
    "userId": 12345,
    "categoryId": 100,
    "categoryPath": "æŠ€æœ¯/Java",
    "contentType": 1,
    "title": "ä»Šå¤©å­¦ä¹ äº†Javaè®¾è®¡æ¨¡å¼",
    "description": "åˆ†äº«æˆ‘çš„å­¦ä¹ å¿ƒå¾—",
    "mediaUrls": "[\"url1\", \"url2\"]",
    "coverUrl": "https://example.com/cover.jpg",
    "duration": 120,
    "mediaInfo": "{\"width\":1920,\"height\":1080}",
    "isPaid": 0,
    "price": 10,
    "freeDuration": 30,
    "purchaseCount": 0,
    "likeCount": 156,
    "commentCount": 42,
    "shareCount": 18,
    "favoriteCount": 89,
    "viewCount": 2341,
    "recommendScore": 85.6,
    "qualityScore": 92.3,
    "status": 1,
    "privacy": 1,
    "createTime": "2024-01-16T10:30:00",
    "updateTime": "2024-01-16T10:30:00",
    "authorName": "æŠ€æœ¯è¾¾äºº",
    "authorAvatar": "https://example.com/avatar.jpg",
    "isLiked": false,
    "isFavorited": false,
    "isPurchased": false,
    "tags": [
      {
        "id": 1,
        "tagName": "Java",
        "tagIcon": "java-icon.png",
        "weight": 100
      },
      {
        "id": 2,
        "tagName": "è®¾è®¡æ¨¡å¼",
        "tagIcon": "pattern-icon.png",
        "weight": 90
      }
    ]
  }
}
```

---

### 5. åˆ†é¡µæŸ¥è¯¢å†…å®¹
**æ¥å£è·¯å¾„**: `POST /api/social/content/query`  
**æ¥å£æè¿°**: åˆ†é¡µæŸ¥è¯¢å†…å®¹åˆ—è¡¨

#### è¯·æ±‚å‚æ•°
```json
{
  "currentPage": 1,                   // é¡µç ï¼ˆä»1å¼€å§‹ï¼‰
  "pageSize": 20,                     // æ¯é¡µå¤§å°
  "userId": 12345,                    // å¯é€‰ï¼ŒæŸ¥è¯¢æŒ‡å®šç”¨æˆ·çš„å†…å®¹
  "categoryId": 100,                  // å¯é€‰ï¼ŒæŸ¥è¯¢æŒ‡å®šåˆ†ç±»çš„å†…å®¹
  "contentType": 1,                   // å¯é€‰ï¼Œå†…å®¹ç±»å‹è¿‡æ»¤
  "keyword": "Java",                  // å¯é€‰ï¼Œæœç´¢å…³é”®è¯
  "queryType": 1,                     // å¯é€‰ï¼ŒæŸ¥è¯¢ç±»å‹ï¼š1-æœ€æ–°,2-çƒ­é—¨,3-æœç´¢
  "viewerUserId": 67890,              // å¯é€‰ï¼ŒæŸ¥çœ‹è€…IDï¼ˆç”¨äºæƒé™æ£€æŸ¥ï¼‰
  "sortBy": "create_time",            // å¯é€‰ï¼Œæ’åºå­—æ®µ
  "sortOrder": "DESC"                 // å¯é€‰ï¼Œæ’åºæ–¹å‘
}
```

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "datas": [
    {
      "id": 789012,
      "userId": 12345,
      "title": "ä»Šå¤©å­¦ä¹ äº†Javaè®¾è®¡æ¨¡å¼",
      "coverUrl": "https://example.com/cover.jpg",
      "likeCount": 156,
      "viewCount": 2341,
      "authorName": "æŠ€æœ¯è¾¾äºº",
      "authorAvatar": "https://example.com/avatar.jpg",
      "createTime": "2024-01-16T10:30:00"
    }
  ],
  "total": 1250,
  "currentPage": 1,
  "pageSize": 20,
  "totalPage": 63
}
```

---

### 6. è·å–ç”¨æˆ·å†…å®¹åˆ—è¡¨
**æ¥å£è·¯å¾„**: `GET /api/social/content/user/{userId}`  
**æ¥å£æè¿°**: è·å–æŒ‡å®šç”¨æˆ·çš„å†…å®¹åˆ—è¡¨

#### è¯·æ±‚å‚æ•°
- **userId** (path): ç”¨æˆ·IDï¼Œå¿…å¡«
- **currentPage** (query): é¡µç ï¼Œå¯é€‰ï¼Œé»˜è®¤1
- **pageSize** (query): é¡µé¢å¤§å°ï¼Œå¯é€‰ï¼Œé»˜è®¤20
- **viewerUserId** (query): æŸ¥çœ‹è€…ç”¨æˆ·IDï¼Œå¯é€‰

---

### 7. è·å–åˆ†ç±»å†…å®¹åˆ—è¡¨
**æ¥å£è·¯å¾„**: `GET /api/social/content/category/{categoryId}`  
**æ¥å£æè¿°**: è·å–æŒ‡å®šåˆ†ç±»ä¸‹çš„å†…å®¹åˆ—è¡¨

#### è¯·æ±‚å‚æ•°
- **categoryId** (path): åˆ†ç±»IDï¼Œå¿…å¡«
- **currentPage** (query): é¡µç ï¼Œå¯é€‰ï¼Œé»˜è®¤1
- **pageSize** (query): é¡µé¢å¤§å°ï¼Œå¯é€‰ï¼Œé»˜è®¤20
- **viewerUserId** (query): æŸ¥çœ‹è€…ç”¨æˆ·IDï¼Œå¯é€‰

---

### 8. è·å–çƒ­é—¨å†…å®¹
**æ¥å£è·¯å¾„**: `GET /api/social/content/hot`  
**æ¥å£æè¿°**: è·å–çƒ­é—¨å†…å®¹åˆ—è¡¨

#### è¯·æ±‚å‚æ•°
- **currentPage** (query): é¡µç ï¼Œå¯é€‰ï¼Œé»˜è®¤1
- **pageSize** (query): é¡µé¢å¤§å°ï¼Œå¯é€‰ï¼Œé»˜è®¤20
- **viewerUserId** (query): æŸ¥çœ‹è€…ç”¨æˆ·IDï¼Œå¯é€‰

---

### 9. è·å–æœ€æ–°å†…å®¹
**æ¥å£è·¯å¾„**: `GET /api/social/content/latest`  
**æ¥å£æè¿°**: è·å–æœ€æ–°å†…å®¹åˆ—è¡¨

#### è¯·æ±‚å‚æ•°
- **currentPage** (query): é¡µç ï¼Œå¯é€‰ï¼Œé»˜è®¤1
- **pageSize** (query): é¡µé¢å¤§å°ï¼Œå¯é€‰ï¼Œé»˜è®¤20
- **viewerUserId** (query): æŸ¥çœ‹è€…ç”¨æˆ·IDï¼Œå¯é€‰

---

### 10. æœç´¢å†…å®¹
**æ¥å£è·¯å¾„**: `GET /api/social/content/search`  
**æ¥å£æè¿°**: æ ¹æ®å…³é”®è¯æœç´¢å†…å®¹

#### è¯·æ±‚å‚æ•°
- **keyword** (query): æœç´¢å…³é”®è¯ï¼Œå¿…å¡«
- **currentPage** (query): é¡µç ï¼Œå¯é€‰ï¼Œé»˜è®¤1
- **pageSize** (query): é¡µé¢å¤§å°ï¼Œå¯é€‰ï¼Œé»˜è®¤20
- **viewerUserId** (query): æŸ¥çœ‹è€…ç”¨æˆ·IDï¼Œå¯é€‰

---

### 11. æ‰¹é‡è·å–å†…å®¹
**æ¥å£è·¯å¾„**: `POST /api/social/content/batch`  
**æ¥å£æè¿°**: æ‰¹é‡è·å–æŒ‡å®šIDçš„å†…å®¹ä¿¡æ¯

#### è¯·æ±‚å‚æ•°
```json
[789012, 789013, 789014]
```

**Queryå‚æ•°**:
- **viewerUserId** (query): æŸ¥çœ‹è€…ç”¨æˆ·IDï¼Œå¯é€‰

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": [
    {
      "id": 789012,
      "title": "Javaå­¦ä¹ å¿ƒå¾—",
      // ... å…¶ä»–å­—æ®µ
    }
  ]
}
```

---

### 12. è·å–å†…å®¹ç»Ÿè®¡ä¿¡æ¯
**æ¥å£è·¯å¾„**: `GET /api/social/content/{contentId}/stats`  
**æ¥å£æè¿°**: è·å–å†…å®¹çš„ç»Ÿè®¡ä¿¡æ¯

#### è¯·æ±‚å‚æ•°
- **contentId** (path): å†…å®¹IDï¼Œå¿…å¡«
- **viewerUserId** (query): æŸ¥çœ‹è€…ç”¨æˆ·IDï¼Œå¯é€‰

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "contentId": 789012,
    "likeCount": 156,
    "commentCount": 42,
    "favoriteCount": 89,
    "shareCount": 18,
    "viewCount": 2341,
    "isLiked": false,
    "isFavorited": false,
    "isCommented": false,
    "hotScore": 85.6,
    "ranking": 12
  }
}
```

---

### 13. æ‰¹é‡è·å–å†…å®¹ç»Ÿè®¡ä¿¡æ¯
**æ¥å£è·¯å¾„**: `POST /api/social/content/stats/batch`  
**æ¥å£æè¿°**: æ‰¹é‡è·å–å¤šä¸ªå†…å®¹çš„ç»Ÿè®¡ä¿¡æ¯

#### è¯·æ±‚å‚æ•°
```json
[789012, 789013, 789014]
```

**Queryå‚æ•°**:
- **viewerUserId** (query): æŸ¥çœ‹è€…ç”¨æˆ·IDï¼Œå¯é€‰

---

### 14. æ£€æŸ¥å†…å®¹è®¿é—®æƒé™
**æ¥å£è·¯å¾„**: `GET /api/social/content/{contentId}/access`  
**æ¥å£æè¿°**: æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒè®¿é—®æŒ‡å®šå†…å®¹

#### è¯·æ±‚å‚æ•°
- **contentId** (path): å†…å®¹IDï¼Œå¿…å¡«
- **userId** (query): ç”¨æˆ·IDï¼Œå¿…å¡«

---

### 15. è·å–ç”¨æˆ·å†…å®¹æ•°é‡
**æ¥å£è·¯å¾„**: `GET /api/social/content/count/user/{userId}`  
**æ¥å£æè¿°**: è·å–ç”¨æˆ·å‘å¸ƒçš„å†…å®¹æ€»æ•°

#### è¯·æ±‚å‚æ•°
- **userId** (path): ç”¨æˆ·IDï¼Œå¿…å¡«

---

### 16. è·å–åˆ†ç±»å†…å®¹æ•°é‡
**æ¥å£è·¯å¾„**: `GET /api/social/content/count/category/{categoryId}`  
**æ¥å£æè¿°**: è·å–æŒ‡å®šåˆ†ç±»ä¸‹çš„å†…å®¹æ€»æ•°

#### è¯·æ±‚å‚æ•°
- **categoryId** (path): åˆ†ç±»IDï¼Œå¿…å¡«

---

### 17. è¯Šæ–­å†…å®¹ç»Ÿè®¡æ•°æ®
**æ¥å£è·¯å¾„**: `POST /api/social/content/{contentId}/diagnose`  
**æ¥å£æè¿°**: è¯Šæ–­å†…å®¹ç»Ÿè®¡æ•°æ®çš„ä¸€è‡´æ€§ï¼ˆè°ƒè¯•ç”¨ï¼‰

#### è¯·æ±‚å‚æ•°
- **contentId** (path): å†…å®¹IDï¼Œå¿…å¡«

---

### 18. ä¿®å¤å†…å®¹ç»Ÿè®¡æ•°æ®
**æ¥å£è·¯å¾„**: `POST /api/social/content/{contentId}/fix-stats`  
**æ¥å£æè¿°**: ä¿®å¤å†…å®¹ç»Ÿè®¡æ•°æ®ï¼ˆè°ƒè¯•ç”¨ï¼‰

#### è¯·æ±‚å‚æ•°
- **contentId** (path): å†…å®¹IDï¼Œå¿…å¡«

---

## ç¤¾äº¤äº’åŠ¨ API

### ğŸ”„ ç¤¾äº¤äº’åŠ¨ç”Ÿæ€æ¦‚è¿°

Collide ç¤¾äº¤æ¨¡å—æ„å»ºäº†å®Œæ•´çš„ç”¨æˆ·äº’åŠ¨ç”Ÿæ€ï¼Œé€šè¿‡å¤šç»´åº¦çš„äº’åŠ¨æœºåˆ¶ä¿ƒè¿›ç”¨æˆ·å‚ä¸å’Œå†…å®¹ä¼ æ’­ï¼š

#### æ ¸å¿ƒäº’åŠ¨ç±»å‹
- **ğŸ‘ ç‚¹èµç³»ç»Ÿ**: æ”¯æŒå¯¹å†…å®¹çš„ç‚¹èµå’Œå–æ¶ˆç‚¹èµï¼Œæ”¯æŒä¸åŒç‚¹èµç±»å‹
- **ğŸ’¬ è¯„è®ºç³»ç»Ÿ**: æ”¯æŒå¤šçº§è¯„è®ºã€å›å¤å’ŒåµŒå¥—è®¨è®º  
- **ğŸ“¤ åˆ†äº«ç³»ç»Ÿ**: æ”¯æŒå†…å®¹è½¬å‘å’ŒäºŒæ¬¡ä¼ æ’­
- **â­ æ”¶è—ç³»ç»Ÿ**: æ”¯æŒç”¨æˆ·æ”¶è—æ„Ÿå…´è¶£çš„å†…å®¹åˆ°ä¸åŒæ”¶è—å¤¹

### 1. ç‚¹èµå†…å®¹
**æ¥å£è·¯å¾„**: `POST /api/social/interaction/like`  
**æ¥å£æè¿°**: ç»™å†…å®¹ç‚¹èµ

#### è¯·æ±‚å‚æ•°
```json
{
  "userId": 67890,                    // å¿…å¡«ï¼Œç”¨æˆ·ID
  "contentId": 789012,                // å¿…å¡«ï¼Œå†…å®¹ID
  "likeType": 1                       // å¯é€‰ï¼Œç‚¹èµç±»å‹ï¼š1-æ™®é€šç‚¹èµ,2-è¶…çº§ç‚¹èµ
}
```

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "ç‚¹èµæˆåŠŸ",
  "data": true
}
```

---

### 2. å–æ¶ˆç‚¹èµ
**æ¥å£è·¯å¾„**: `DELETE /api/social/interaction/like`  
**æ¥å£æè¿°**: å–æ¶ˆå¯¹å†…å®¹çš„ç‚¹èµ

#### è¯·æ±‚å‚æ•°
- **userId** (query): ç”¨æˆ·IDï¼Œå¿…å¡«
- **contentId** (query): å†…å®¹IDï¼Œå¿…å¡«

---

### 3. æ£€æŸ¥ç‚¹èµçŠ¶æ€
**æ¥å£è·¯å¾„**: `GET /api/social/interaction/like/check`  
**æ¥å£æè¿°**: æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç‚¹èµè¯¥å†…å®¹

#### è¯·æ±‚å‚æ•°
- **userId** (query): ç”¨æˆ·IDï¼Œå¿…å¡«
- **contentId** (query): å†…å®¹IDï¼Œå¿…å¡«

---

### 4. è·å–å†…å®¹ç‚¹èµåˆ—è¡¨
**æ¥å£è·¯å¾„**: `GET /api/social/interaction/like/{contentId}`  
**æ¥å£æè¿°**: è·å–å†…å®¹çš„ç‚¹èµç”¨æˆ·åˆ—è¡¨

#### è¯·æ±‚å‚æ•°
- **contentId** (path): å†…å®¹IDï¼Œå¿…å¡«
- **currentPage** (query): é¡µç ï¼Œå¯é€‰ï¼Œé»˜è®¤1
- **pageSize** (query): é¡µé¢å¤§å°ï¼Œå¯é€‰ï¼Œé»˜è®¤20

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "datas": [
    {
      "id": 1001,
      "userId": 67890,
      "contentId": 789012,
      "contentOwnerId": 12345,
      "createTime": "2024-01-16T15:30:00",
      "userName": "coding_lover",
      "userAvatar": "https://example.com/avatar2.jpg",
      "likeType": 1
    }
  ],
  "total": 156,
  "currentPage": 1,
  "pageSize": 20,
  "totalPage": 8
}
```

---

### 5. æ”¶è—å†…å®¹
**æ¥å£è·¯å¾„**: `POST /api/social/interaction/favorite`  
**æ¥å£æè¿°**: æ”¶è—å†…å®¹

#### è¯·æ±‚å‚æ•°
```json
{
  "userId": 67890,                    // å¿…å¡«ï¼Œç”¨æˆ·ID
  "contentId": 789012,                // å¿…å¡«ï¼Œå†…å®¹ID
  "folderId": 123,                    // å¯é€‰ï¼Œæ”¶è—å¤¹ID
  "folderName": "æŠ€æœ¯å­¦ä¹ "             // å¯é€‰ï¼Œæ”¶è—å¤¹åç§°
}
```

---

### 6. å–æ¶ˆæ”¶è—
**æ¥å£è·¯å¾„**: `DELETE /api/social/interaction/favorite`  
**æ¥å£æè¿°**: å–æ¶ˆæ”¶è—å†…å®¹

#### è¯·æ±‚å‚æ•°
- **userId** (query): ç”¨æˆ·IDï¼Œå¿…å¡«
- **contentId** (query): å†…å®¹IDï¼Œå¿…å¡«

---

### 7. æ£€æŸ¥æ”¶è—çŠ¶æ€
**æ¥å£è·¯å¾„**: `GET /api/social/interaction/favorite/check`  
**æ¥å£æè¿°**: æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²æ”¶è—è¯¥å†…å®¹

#### è¯·æ±‚å‚æ•°
- **userId** (query): ç”¨æˆ·IDï¼Œå¿…å¡«
- **contentId** (query): å†…å®¹IDï¼Œå¿…å¡«

---

### 8. è·å–ç”¨æˆ·æ”¶è—åˆ—è¡¨
**æ¥å£è·¯å¾„**: `GET /api/social/interaction/favorite/user/{userId}`  
**æ¥å£æè¿°**: è·å–ç”¨æˆ·çš„æ”¶è—åˆ—è¡¨

#### è¯·æ±‚å‚æ•°
- **userId** (path): ç”¨æˆ·IDï¼Œå¿…å¡«
- **currentPage** (query): é¡µç ï¼Œå¯é€‰ï¼Œé»˜è®¤1
- **pageSize** (query): é¡µé¢å¤§å°ï¼Œå¯é€‰ï¼Œé»˜è®¤20

---

### 9. åˆ†äº«å†…å®¹
**æ¥å£è·¯å¾„**: `POST /api/social/interaction/share`  
**æ¥å£æè¿°**: åˆ†äº«å†…å®¹

#### è¯·æ±‚å‚æ•°
```json
{
  "userId": 67890,                    // å¿…å¡«ï¼Œç”¨æˆ·ID
  "contentId": 789012,                // å¿…å¡«ï¼Œå†…å®¹ID
  "shareType": 1,                     // å¯é€‰ï¼Œåˆ†äº«ç±»å‹
  "sharePlatform": "wechat",          // å¯é€‰ï¼Œåˆ†äº«å¹³å°
  "shareComment": "æ¨èä¸€ä¸ªå¥½å†…å®¹"     // å¯é€‰ï¼Œåˆ†äº«è¯„è®º
}
```

---

### 10. è·å–å†…å®¹åˆ†äº«åˆ—è¡¨
**æ¥å£è·¯å¾„**: `GET /api/social/interaction/share/{contentId}`  
**æ¥å£æè¿°**: è·å–å†…å®¹çš„åˆ†äº«è®°å½•

#### è¯·æ±‚å‚æ•°
- **contentId** (path): å†…å®¹IDï¼Œå¿…å¡«
- **currentPage** (query): é¡µç ï¼Œå¯é€‰ï¼Œé»˜è®¤1
- **pageSize** (query): é¡µé¢å¤§å°ï¼Œå¯é€‰ï¼Œé»˜è®¤20

---

### 11. åˆ›å»ºè¯„è®º
**æ¥å£è·¯å¾„**: `POST /api/social/interaction/comment`  
**æ¥å£æè¿°**: å¯¹å†…å®¹æˆ–è¯„è®ºè¿›è¡Œè¯„è®º

#### è¯·æ±‚å‚æ•°
```json
{
  "userId": 67890,                    // å¿…å¡«ï¼Œç”¨æˆ·ID
  "contentId": 789012,                // å¿…å¡«ï¼Œå†…å®¹ID
  "parentCommentId": null,            // å¯é€‰ï¼Œçˆ¶è¯„è®ºIDï¼ˆå›å¤è¯„è®ºæ—¶ä½¿ç”¨ï¼‰
  "replyToUserId": null,              // å¯é€‰ï¼Œå›å¤çš„ç”¨æˆ·ID
  "commentText": "è¯´å¾—å¾ˆå¥½ï¼",         // å¿…å¡«ï¼Œè¯„è®ºå†…å®¹
  "commentImages": "[\"img1.jpg\"]"   // å¯é€‰ï¼Œè¯„è®ºå›¾ç‰‡(JSONæ ¼å¼)
}
```

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "è¯„è®ºæˆåŠŸ",
  "data": 2001
}
```

---

### 12. åˆ é™¤è¯„è®º
**æ¥å£è·¯å¾„**: `DELETE /api/social/interaction/comment/{commentId}`  
**æ¥å£æè¿°**: åˆ é™¤æŒ‡å®šè¯„è®º

#### è¯·æ±‚å‚æ•°
- **commentId** (path): è¯„è®ºIDï¼Œå¿…å¡«
- **userId** (query): ç”¨æˆ·IDï¼Œå¿…å¡«

---

### 13. è·å–å†…å®¹è¯„è®ºåˆ—è¡¨
**æ¥å£è·¯å¾„**: `GET /api/social/interaction/comment/{contentId}`  
**æ¥å£æè¿°**: è·å–å†…å®¹çš„è¯„è®ºåˆ—è¡¨

#### è¯·æ±‚å‚æ•°
- **contentId** (path): å†…å®¹IDï¼Œå¿…å¡«
- **currentPage** (query): é¡µç ï¼Œå¯é€‰ï¼Œé»˜è®¤1
- **pageSize** (query): é¡µé¢å¤§å°ï¼Œå¯é€‰ï¼Œé»˜è®¤20

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "datas": [
    {
      "id": 2001,
      "userId": 67890,
      "contentId": 789012,
      "contentOwnerId": 12345,
      "createTime": "2024-01-16T16:30:00",
      "userName": "coding_lover",
      "userAvatar": "https://example.com/avatar2.jpg",
      "parentCommentId": null,
      "replyToUserId": null,
      "commentText": "è¯´å¾—å¾ˆå¥½ï¼",
      "commentImages": "[\"img1.jpg\"]",
      "likeCount": 5,
      "replyCount": 2,
      "status": 1,
      "updateTime": "2024-01-16T16:30:00"
    }
  ],
  "total": 42,
  "currentPage": 1,
  "pageSize": 20,
  "totalPage": 3
}
```

---

### 14. è·å–è¯„è®ºå›å¤åˆ—è¡¨
**æ¥å£è·¯å¾„**: `GET /api/social/interaction/comment/{parentCommentId}/replies`  
**æ¥å£æè¿°**: è·å–æŒ‡å®šè¯„è®ºçš„å›å¤åˆ—è¡¨

#### è¯·æ±‚å‚æ•°
- **parentCommentId** (path): çˆ¶è¯„è®ºIDï¼Œå¿…å¡«
- **currentPage** (query): é¡µç ï¼Œå¯é€‰ï¼Œé»˜è®¤1
- **pageSize** (query): é¡µé¢å¤§å°ï¼Œå¯é€‰ï¼Œé»˜è®¤20

---

### 15. è·å–ç”¨æˆ·äº’åŠ¨çŠ¶æ€
**æ¥å£è·¯å¾„**: `GET /api/social/interaction/status`  
**æ¥å£æè¿°**: è·å–ç”¨æˆ·å¯¹æŒ‡å®šå†…å®¹çš„äº’åŠ¨çŠ¶æ€

#### è¯·æ±‚å‚æ•°
- **userId** (query): ç”¨æˆ·IDï¼Œå¿…å¡«
- **contentId** (query): å†…å®¹IDï¼Œå¿…å¡«

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "userId": 67890,
    "contentId": 789012,
    "liked": true,
    "favorited": false,
    "commented": true,
    "shared": false,
    "likeTime": "2024-01-16T15:30:00",
    "favoriteTime": null,
    "commentTime": "2024-01-16T16:30:00",
    "shareTime": null
  }
}
```

---

### 16. æ‰¹é‡è·å–ç”¨æˆ·äº’åŠ¨çŠ¶æ€
**æ¥å£è·¯å¾„**: `POST /api/social/interaction/status/batch`  
**æ¥å£æè¿°**: æ‰¹é‡è·å–ç”¨æˆ·å¯¹å¤šä¸ªå†…å®¹çš„äº’åŠ¨çŠ¶æ€

#### è¯·æ±‚å‚æ•°
- **userId** (query): ç”¨æˆ·IDï¼Œå¿…å¡«
- **Body**: å†…å®¹IDåˆ—è¡¨

```json
[789012, 789013, 789014]
```

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "789012": {
      "userId": 67890,
      "contentId": 789012,
      "liked": true,
      "favorited": false,
      "commented": true,
      "shared": false
    },
    "789013": {
      "userId": 67890,
      "contentId": 789013,
      "liked": false,
      "favorited": true,
      "commented": false,
      "shared": false
    }
  }
}
```

---

## å“åº”æ ¼å¼è¯´æ˜

### 1. å•ä¸ªæ•°æ®å“åº”æ ¼å¼ (Result)
```json
{
  "success": true,          // æ˜¯å¦æˆåŠŸ
  "code": "SUCCESS",        // å“åº”ç 
  "message": "æ“ä½œæˆåŠŸ",    // å“åº”æ¶ˆæ¯
  "data": {}               // å“åº”æ•°æ®
}
```

### 2. åˆ†é¡µæ•°æ®å“åº”æ ¼å¼ (PageResponse)
```json
{
  "success": true,          // æ˜¯å¦æˆåŠŸ
  "datas": [],             // æ•°æ®åˆ—è¡¨
  "total": 1250,           // æ€»è®°å½•æ•°
  "currentPage": 1,        // å½“å‰é¡µç 
  "pageSize": 20,          // æ¯é¡µå¤§å°
  "totalPage": 63          // æ€»é¡µæ•°
}
```

---

## é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| SUCCESS | æ“ä½œæˆåŠŸ |
| CONTENT_NOT_FOUND | å†…å®¹ä¸å­˜åœ¨ |
| CONTENT_DELETED | å†…å®¹å·²åˆ é™¤ |
| CONTENT_PERMISSION_DENIED | å†…å®¹è®¿é—®æƒé™ä¸è¶³ |
| USER_NOT_FOUND | ç”¨æˆ·ä¸å­˜åœ¨ |
| ALREADY_LIKED | å·²ç»ç‚¹èµè¿‡ |
| ALREADY_FAVORITED | å·²ç»æ”¶è—è¿‡ |
| ALREADY_SHARED | å·²ç»åˆ†äº«è¿‡ |
| COMMENT_NOT_FOUND | è¯„è®ºä¸å­˜åœ¨ |
| CONTENT_TOO_LONG | å†…å®¹è¿‡é•¿ |
| MEDIA_UPLOAD_FAILED | åª’ä½“æ–‡ä»¶ä¸Šä¼ å¤±è´¥ |
| USER_BLOCKED | ç”¨æˆ·è¢«å±è”½ |
| SENSITIVE_CONTENT | å†…å®¹åŒ…å«æ•æ„Ÿä¿¡æ¯ |
| INTERACTION_QUERY_ERROR | äº’åŠ¨è®°å½•æŸ¥è¯¢å¤±è´¥ |
| CACHE_ERROR | ç¼“å­˜æœåŠ¡å¼‚å¸¸ |
| PAYMENT_REQUIRED | éœ€è¦ä»˜è´¹è´­ä¹° |
| INSUFFICIENT_COINS | é‡‘å¸ä¸è¶³ |

---

## æ•°æ®ç±»å‹è¯´æ˜

### å†…å®¹ç±»å‹ (contentType)
- **1**: çŸ­è§†é¢‘
- **2**: é•¿è§†é¢‘  
- **3**: å›¾ç‰‡
- **4**: æ–‡å­—

### æŸ¥è¯¢ç±»å‹ (queryType)
- **1**: æœ€æ–°
- **2**: çƒ­é—¨
- **3**: æœç´¢

### äº’åŠ¨ç±»å‹ (interactionType)
- **1**: ç‚¹èµ
- **2**: æ”¶è—
- **3**: åˆ†äº«
- **4**: è¯„è®º

### éšç§è®¾ç½® (privacy)
- **1**: å…¬å¼€
- **2**: ä»…å…³æ³¨è€…
- **3**: ç§å¯†

### ä»˜è´¹çŠ¶æ€ (isPaid)
- **0**: å…è´¹
- **1**: ä»˜è´¹

---

**æœ€åæ›´æ–°**: 2024-01-16  
**æ–‡æ¡£ç‰ˆæœ¬**: v2.0.0 (DDDæ¶æ„é‡æ„ç‰ˆ)