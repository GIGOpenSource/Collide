# Orderæ¨¡å— REST API æ¥å£æ–‡æ¡£

## æ¨¡å—æ¦‚è¿°
è®¢å•ç®¡ç†REST APIæä¾›å®Œæ•´çš„è®¢å•ç”Ÿå‘½å‘¨æœŸç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬è®¢å•åˆ›å»ºã€æŸ¥è¯¢ã€æ”¯ä»˜ã€å‘è´§ã€ç»Ÿè®¡åˆ†æç­‰ä¸šåŠ¡åœºæ™¯ã€‚æ”¯æŒå•†å“è®¢å•ã€å†…å®¹è®¢å•ã€è®¢é˜…è®¢å•ç­‰å¤šç§ä¸šåŠ¡ç±»å‹ï¼Œé‡‡ç”¨ä¸¥æ ¼çš„æƒé™éªŒè¯æœºåˆ¶ç¡®ä¿æ•°æ®å®‰å…¨ã€‚

**ç‰ˆæœ¬**: 2.0.0 (ç¼“å­˜å¢å¼ºç‰ˆ)  
**åŸºç¡€è·¯å¾„**: `/api/v1/orders`  
**æƒé™éªŒè¯**: æ‰€æœ‰ç”¨æˆ·ç›¸å…³æ“ä½œéƒ½éœ€è¦æä¾›userIdè¿›è¡Œæƒé™éªŒè¯

---

## ğŸš€ åŸºç¡€è®¢å•æ“ä½œ

### 1. åˆ›å»ºè®¢å•
**æ¥å£åœ°å€**: `POST /api/v1/orders`  
**æ¥å£æè¿°**: åˆ›å»ºæ–°è®¢å•ï¼Œæ”¯æŒå››ç§å•†å“ç±»å‹å’ŒåŒæ”¯ä»˜æ¨¡å¼  
**æƒé™è¦æ±‚**: éœ€è¦ç”¨æˆ·è®¤è¯

**è¯·æ±‚å‚æ•°**:
```json
{
  "userId": 123,
  "userNickname": "æµ‹è¯•ç”¨æˆ·",
  "goodsId": 456,
  "goodsType": "content",
  "quantity": 1,
  "paymentMode": "coin",
  "cashAmount": 99.99,
  "coinCost": 100,
  "contentId": 789,
  "effectiveDiscountAmount": 10.00
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": 1001,
    "orderNo": "ORD1738284732123456789",
    "userId": 123,
    "userNickname": "æµ‹è¯•ç”¨æˆ·",
    "goodsId": 456,
    "goodsName": "ç²¾å“å†…å®¹",
    "goodsType": "content",
    "quantity": 1,
    "paymentMode": "coin",
    "cashAmount": 99.99,
    "coinCost": 100,
    "totalAmount": 109.99,
    "finalAmount": 99.99,
    "status": "pending",
    "payStatus": "unpaid",
    "createTime": "2024-01-30T10:30:00",
    "updateTime": "2024-01-30T10:30:00"
  }
}
```

### 2. è·å–è®¢å•è¯¦æƒ…
**æ¥å£åœ°å€**: `GET /api/v1/orders/{id}`  
**æ¥å£æè¿°**: æ ¹æ®IDè·å–è®¢å•è¯¦ç»†ä¿¡æ¯ï¼Œéœ€è¦ç”¨æˆ·æƒé™éªŒè¯  
**æƒé™è¦æ±‚**: ç”¨æˆ·åªèƒ½æŸ¥çœ‹è‡ªå·±çš„è®¢å•

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«ï¼Œæœ€å°å€¼1
- `userId` (Query): ç”¨æˆ·IDï¼Œç”¨äºæƒé™éªŒè¯ï¼Œå¿…å¡«

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": 1001,
    "orderNo": "ORD1738284732123456789",
    "userId": 123,
    "userNickname": "æµ‹è¯•ç”¨æˆ·",
    "goodsId": 456,
    "goodsName": "ç²¾å“å†…å®¹",
    "goodsType": "content",
    "status": "paid",
    "payStatus": "paid",
    "payMethod": "coin",
    "payTime": "2024-01-30T10:35:00",
    "createTime": "2024-01-30T10:30:00"
  }
}
```

### 3. æ ¹æ®è®¢å•å·è·å–è¯¦æƒ…
**æ¥å£åœ°å€**: `GET /api/v1/orders/no/{orderNo}`  
**æ¥å£æè¿°**: æ ¹æ®è®¢å•å·è·å–è®¢å•è¯¦ç»†ä¿¡æ¯ï¼Œéœ€è¦ç”¨æˆ·æƒé™éªŒè¯  
**æƒé™è¦æ±‚**: ç”¨æˆ·åªèƒ½æŸ¥çœ‹è‡ªå·±çš„è®¢å•

**è¯·æ±‚å‚æ•°**:
- `orderNo` (Path): è®¢å•å·ï¼Œå¿…å¡«
- `userId` (Query): ç”¨æˆ·IDï¼Œç”¨äºæƒé™éªŒè¯ï¼Œå¿…å¡«

### 4. å–æ¶ˆè®¢å•
**æ¥å£åœ°å€**: `POST /api/v1/orders/{id}/cancel`  
**æ¥å£æè¿°**: å–æ¶ˆæŒ‡å®šè®¢å•ï¼Œéœ€è¦ç”¨æˆ·æƒé™éªŒè¯  
**æƒé™è¦æ±‚**: ç”¨æˆ·åªèƒ½å–æ¶ˆè‡ªå·±çš„è®¢å•

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«
- `reason` (Query): å–æ¶ˆåŸå› ï¼Œé»˜è®¤"ç”¨æˆ·ä¸»åŠ¨å–æ¶ˆ"
- `userId` (Query): ç”¨æˆ·IDï¼Œç”¨äºæƒé™éªŒè¯ï¼Œå¿…å¡«

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

### 5. æ‰¹é‡å–æ¶ˆè®¢å•
**æ¥å£åœ°å€**: `POST /api/v1/orders/batch-cancel`  
**æ¥å£æè¿°**: æ‰¹é‡å–æ¶ˆå¤šä¸ªè®¢å•ï¼Œéœ€è¦æ“ä½œè€…æƒé™  
**æƒé™è¦æ±‚**: éœ€è¦æ“ä½œè€…æƒé™

**è¯·æ±‚å‚æ•°**:
```json
{
  "orderIds": [1001, 1002, 1003],
  "reason": "æ‰¹é‡å–æ¶ˆ",
  "operatorId": 123
}
```

### 6. åˆ†é¡µæŸ¥è¯¢è®¢å•
**æ¥å£åœ°å€**: `POST /api/v1/orders/query`  
**æ¥å£æè¿°**: æ”¯æŒå¤šæ¡ä»¶åˆ†é¡µæŸ¥è¯¢è®¢å•åˆ—è¡¨

**è¯·æ±‚å‚æ•°**:
```json
{
  "userId": 123,
  "status": "paid",
  "goodsType": "content",
  "currentPage": 1,
  "pageSize": 20
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "datas": [
      {
        "id": 1001,
        "orderNo": "ORD1738284732123456789",
        "userId": 123,
        "goodsName": "ç²¾å“å†…å®¹",
        "status": "paid",
        "finalAmount": 99.99,
        "createTime": "2024-01-30T10:30:00"
      }
    ],
    "total": 50,
    "currentPage": 1,
    "pageSize": 20,
    "totalPage": 3
  }
}
```

### 7. æŸ¥è¯¢ç”¨æˆ·è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/user/{userId}`  
**æ¥å£æè¿°**: è·å–æŒ‡å®šç”¨æˆ·çš„è®¢å•åˆ—è¡¨ï¼Œéœ€è¦æƒé™éªŒè¯

**è¯·æ±‚å‚æ•°**:
- `userId` (Path): ç”¨æˆ·IDï¼Œå¿…å¡«
- `status` (Query): è®¢å•çŠ¶æ€ï¼Œå¯é€‰
- `currentPage` (Query): å½“å‰é¡µç ï¼Œé»˜è®¤1
- `pageSize` (Query): é¡µé¢å¤§å°ï¼Œé»˜è®¤20

### 8. æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸ
**æ¥å£åœ°å€**: `POST /api/v1/orders/{id}/mock-payment`  
**æ¥å£æè¿°**: æµ‹è¯•ä¸“ç”¨ - æ¨¡æ‹Ÿè®¢å•æ”¯ä»˜æˆåŠŸï¼Œè‡ªåŠ¨å¤„ç†é‡‘å¸å……å€¼  
**æƒé™è¦æ±‚**: æµ‹è¯•ç¯å¢ƒä¸“ç”¨

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«
- `userId` (Query): ç”¨æˆ·IDï¼Œå¿…å¡«

---

## ğŸ” æŸ¥è¯¢ç±»ç«¯ç‚¹

### 9. æ ¹æ®å•†å“ç±»å‹æŸ¥è¯¢è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/goods-type/{goodsType}`  
**æ¥å£æè¿°**: æŸ¥è¯¢ç‰¹å®šç±»å‹å•†å“çš„è®¢å•

**è¯·æ±‚å‚æ•°**:
- `goodsType` (Path): å•†å“ç±»å‹ï¼ˆcoin/content/subscription/goodsï¼‰ï¼Œå¿…å¡«
- `status` (Query): è®¢å•çŠ¶æ€ï¼Œå¯é€‰
- `currentPage` (Query): å½“å‰é¡µç ï¼Œé»˜è®¤1
- `pageSize` (Query): é¡µé¢å¤§å°ï¼Œé»˜è®¤20

### 10. æŸ¥è¯¢å•†å®¶è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/seller/{sellerId}`  
**æ¥å£æè¿°**: æŸ¥è¯¢æŒ‡å®šå•†å®¶çš„è®¢å•åˆ—è¡¨

**è¯·æ±‚å‚æ•°**:
- `sellerId` (Path): å•†å®¶IDï¼Œå¿…å¡«
- `status` (Query): è®¢å•çŠ¶æ€ï¼Œå¯é€‰
- `currentPage` (Query): å½“å‰é¡µç ï¼Œé»˜è®¤1
- `pageSize` (Query): é¡µé¢å¤§å°ï¼Œé»˜è®¤20

### 11. æœç´¢è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/search`  
**æ¥å£æè¿°**: æ ¹æ®å…³é”®è¯æœç´¢è®¢å•

**è¯·æ±‚å‚æ•°**:
- `keyword` (Query): æœç´¢å…³é”®è¯ï¼Œå¿…å¡«
- `currentPage` (Query): å½“å‰é¡µç ï¼Œé»˜è®¤1
- `pageSize` (Query): é¡µé¢å¤§å°ï¼Œé»˜è®¤20

### 12. æ ¹æ®æ—¶é—´èŒƒå›´æŸ¥è¯¢è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/time-range`  
**æ¥å£æè¿°**: æŸ¥è¯¢æŒ‡å®šæ—¶é—´èŒƒå›´å†…çš„è®¢å•

**è¯·æ±‚å‚æ•°**:
- `startTime` (Query): å¼€å§‹æ—¶é—´ï¼Œæ ¼å¼ï¼š"2024-01-30T00:00:00"
- `endTime` (Query): ç»“æŸæ—¶é—´ï¼Œæ ¼å¼ï¼š"2024-01-30T23:59:59"
- `status` (Query): è®¢å•çŠ¶æ€ï¼Œå¯é€‰
- `currentPage` (Query): å½“å‰é¡µç ï¼Œé»˜è®¤1
- `pageSize` (Query): é¡µé¢å¤§å°ï¼Œé»˜è®¤20

### 13. æŸ¥è¯¢ç”¨æˆ·é‡‘å¸æ¶ˆè´¹è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/user/{userId}/coin-orders`  
**æ¥å£æè¿°**: æŸ¥çœ‹ç”¨æˆ·ä½¿ç”¨é‡‘å¸è´­ä¹°å†…å®¹çš„è®¢å•è®°å½•

### 14. æŸ¥è¯¢ç”¨æˆ·å……å€¼è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/user/{userId}/recharge-orders`  
**æ¥å£æè¿°**: æŸ¥çœ‹ç”¨æˆ·è´­ä¹°é‡‘å¸çš„å……å€¼è®¢å•è®°å½•

### 15. æŸ¥è¯¢å†…å®¹è´­ä¹°è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/content-orders`  
**æ¥å£æè¿°**: æŸ¥çœ‹ç‰¹å®šå†…å®¹çš„è´­ä¹°è®¢å•

**è¯·æ±‚å‚æ•°**:
- `contentId` (Query): å†…å®¹IDï¼Œå¯é€‰ï¼ˆä¸ºç©ºåˆ™æŸ¥è¯¢æ‰€æœ‰å†…å®¹è®¢å•ï¼‰
- `currentPage` (Query): å½“å‰é¡µç ï¼Œé»˜è®¤1
- `pageSize` (Query): é¡µé¢å¤§å°ï¼Œé»˜è®¤20

### 16. æŸ¥è¯¢è®¢é˜…è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/subscription-orders`  
**æ¥å£æè¿°**: æŸ¥çœ‹ç”¨æˆ·çš„ä¼šå‘˜è®¢é˜…ã€VIPç­‰è®¢é˜…ç±»æœåŠ¡è®¢å•

**è¯·æ±‚å‚æ•°**:
- `subscriptionType` (Query): è®¢é˜…ç±»å‹ï¼ˆVIP/PREMIUMï¼‰ï¼Œå¯é€‰
- `currentPage` (Query): å½“å‰é¡µç ï¼Œé»˜è®¤1
- `pageSize` (Query): é¡µé¢å¤§å°ï¼Œé»˜è®¤20

### 17. è·å–å¾…æ”¯ä»˜è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/pending`  
**æ¥å£æè¿°**: æŸ¥è¯¢ç”¨æˆ·æˆ–ç³»ç»Ÿä¸­å¾…æ”¯ä»˜çš„è®¢å•

**è¯·æ±‚å‚æ•°**:
- `userId` (Query): ç”¨æˆ·IDï¼Œå¯é€‰ï¼ˆä¸ºç©ºåˆ™æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰å¾…æ”¯ä»˜è®¢å•ï¼‰
- `currentPage` (Query): å½“å‰é¡µç ï¼Œé»˜è®¤1
- `pageSize` (Query): é¡µé¢å¤§å°ï¼Œé»˜è®¤20

### 18. è·å–å·²å®Œæˆè®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/completed`  
**æ¥å£æè¿°**: æŸ¥è¯¢ç”¨æˆ·æˆ–ç³»ç»Ÿä¸­å·²å®Œæˆçš„è®¢å•

### 19. è·å–ä»Šæ—¥è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/today`  
**æ¥å£æè¿°**: æŸ¥è¯¢ä»Šå¤©åˆ›å»ºçš„æ‰€æœ‰è®¢å•

---

## ğŸ’³ æ”¯ä»˜ç›¸å…³ç«¯ç‚¹

### 20. å¤„ç†è®¢å•æ”¯ä»˜
**æ¥å£åœ°å€**: `POST /api/v1/orders/{id}/payment/process`  
**æ¥å£æè¿°**: å¤„ç†è®¢å•æ”¯ä»˜è¯·æ±‚ï¼Œéœ€è¦ç”¨æˆ·æƒé™éªŒè¯  
**æƒé™è¦æ±‚**: ç”¨æˆ·åªèƒ½æ”¯ä»˜è‡ªå·±çš„è®¢å•

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«
- `payMethod` (Query): æ”¯ä»˜æ–¹å¼ï¼ˆcash/coinï¼‰ï¼Œå¿…å¡«
- `userId` (Query): ç”¨æˆ·IDï¼Œç”¨äºæƒé™éªŒè¯ï¼Œå¿…å¡«

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "status": "success",
    "orderId": 1001,
    "orderNo": "ORD1738284732123456789",
    "payMethod": "coin",
    "coinCost": 100,
    "message": "é‡‘å¸æ”¯ä»˜æˆåŠŸ",
    "payTime": 1738284732000
  }
}
```

### 21. ç¡®è®¤æ”¯ä»˜æˆåŠŸ
**æ¥å£åœ°å€**: `POST /api/v1/orders/{id}/payment/confirm`  
**æ¥å£æè¿°**: ç¡®è®¤è®¢å•æ”¯ä»˜æˆåŠŸï¼Œéœ€è¦ç”¨æˆ·æƒé™éªŒè¯

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«
- `payMethod` (Query): æ”¯ä»˜æ–¹å¼ï¼Œå¿…å¡«
- `userId` (Query): ç”¨æˆ·IDï¼Œå¿…å¡«

### 22. æ”¯ä»˜å›è°ƒå¤„ç†
**æ¥å£åœ°å€**: `POST /api/v1/orders/payment/callback`  
**æ¥å£æè¿°**: å¤„ç†ç¬¬ä¸‰æ–¹æ”¯ä»˜å¹³å°çš„å›è°ƒé€šçŸ¥

**è¯·æ±‚å‚æ•°**:
- `orderNo` (Query): è®¢å•å·ï¼Œå¿…å¡«
- `payStatus` (Query): æ”¯ä»˜çŠ¶æ€ï¼Œå¿…å¡«
- `payMethod` (Query): æ”¯ä»˜æ–¹å¼ï¼Œå¿…å¡«
- `extraInfo` (Body): å›è°ƒé¢å¤–ä¿¡æ¯ï¼Œå¯é€‰

**å“åº”**: è¿”å›"success"è¡¨ç¤ºå›è°ƒå¤„ç†æˆåŠŸ

### 23. ç”³è¯·é€€æ¬¾
**æ¥å£åœ°å€**: `POST /api/v1/orders/{id}/refund`  
**æ¥å£æè¿°**: ç”³è¯·è®¢å•é€€æ¬¾ï¼Œéœ€è¦ç”¨æˆ·æƒé™éªŒè¯

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«
- `reason` (Query): é€€æ¬¾åŸå› ï¼Œå¿…å¡«
- `userId` (Query): ç”¨æˆ·IDï¼Œå¿…å¡«

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "success": true,
    "message": "é€€æ¬¾ç”³è¯·æˆåŠŸ",
    "refundId": "RF202401301234567890",
    "refundAmount": 99.99,
    "estimatedTime": "3-5ä¸ªå·¥ä½œæ—¥"
  }
}
```

---

## ğŸ“¦ è®¢å•ç®¡ç†ç«¯ç‚¹

### 24. è®¢å•å‘è´§
**æ¥å£åœ°å€**: `POST /api/v1/orders/{id}/ship`  
**æ¥å£æè¿°**: å•†å®¶å‘è´§æ“ä½œï¼Œéœ€è¦æ“ä½œè€…æƒé™

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«
- `shippingInfo` (Body): ç‰©æµä¿¡æ¯ï¼Œå¿…å¡«
- `operatorId` (Query): æ“ä½œè€…IDï¼ˆå•†å®¶IDï¼‰ï¼Œå¿…å¡«

**è¯·æ±‚ä½“ç¤ºä¾‹**:
```json
{
  "logistics": "é¡ºä¸°å¿«é€’",
  "trackingNumber": "SF1234567890",
  "estimatedDelivery": "2024-02-01",
  "shippingAddress": "åŒ—äº¬å¸‚æœé˜³åŒºxxx"
}
```

### 25. ç¡®è®¤æ”¶è´§
**æ¥å£åœ°å€**: `POST /api/v1/orders/{id}/confirm-receipt`  
**æ¥å£æè¿°**: ç”¨æˆ·ç¡®è®¤æ”¶åˆ°å•†å“

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«
- `userId` (Query): ç”¨æˆ·IDï¼Œå¿…å¡«

### 26. å®Œæˆè®¢å•
**æ¥å£åœ°å€**: `POST /api/v1/orders/{id}/complete`  
**æ¥å£æè¿°**: ç³»ç»Ÿæˆ–ç®¡ç†å‘˜å®Œæˆè®¢å•çš„æœ€ç»ˆå¤„ç†

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«
- `operatorId` (Query): æ“ä½œè€…IDï¼Œå¿…å¡«

---

## ğŸ“Š ç»Ÿè®¡åˆ†æç«¯ç‚¹

### 27. ç”¨æˆ·è®¢å•ç»Ÿè®¡
**æ¥å£åœ°å€**: `GET /api/v1/orders/statistics/user/{userId}`  
**æ¥å£æè¿°**: è·å–ç”¨æˆ·è®¢å•ç»Ÿè®¡ä¿¡æ¯

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "totalOrders": 150,
    "paidOrders": 145,
    "cancelledOrders": 5,
    "totalAmount": 15999.50,
    "monthlyAmount": 2999.90,
    "favoriteType": "content",
    "lastOrderTime": "2024-01-30T10:30:00"
  }
}
```

### 28. å•†å“é”€å”®ç»Ÿè®¡
**æ¥å£åœ°å€**: `GET /api/v1/orders/statistics/goods/{goodsId}`  
**æ¥å£æè¿°**: è·å–å•†å“çš„é”€é‡å’Œè¥æ”¶ç»Ÿè®¡

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "goodsId": 456,
    "totalSales": 1250,
    "totalRevenue": 124999.50,
    "monthlyRevenue": 25999.90,
    "averageRating": 4.8,
    "returnRate": 0.02
  }
}
```

### 29. æŒ‰å•†å“ç±»å‹ç»Ÿè®¡è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/statistics/by-type`  
**æ¥å£æè¿°**: ç»Ÿè®¡å„ç±»å‹å•†å“çš„è®¢å•åˆ†å¸ƒå’Œè¥æ”¶æƒ…å†µ

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "goodsType": "content",
      "orderCount": 850,
      "revenue": 85999.50,
      "percentage": 45.2
    },
    {
      "goodsType": "coin",
      "orderCount": 650,
      "revenue": 65999.00,
      "percentage": 34.7
    }
  ]
}
```

### 30. è·å–çƒ­é—¨å•†å“
**æ¥å£åœ°å€**: `GET /api/v1/orders/statistics/hot-goods`  
**æ¥å£æè¿°**: æ ¹æ®é”€é‡ç»Ÿè®¡æœ€å—æ¬¢è¿çš„å•†å“

**è¯·æ±‚å‚æ•°**:
- `limit` (Query): è¿”å›æ•°é‡é™åˆ¶ï¼Œé»˜è®¤10

### 31. è·å–æ—¥è¥æ”¶ç»Ÿè®¡
**æ¥å£åœ°å€**: `GET /api/v1/orders/statistics/daily-revenue`  
**æ¥å£æè¿°**: ç»Ÿè®¡æŒ‡å®šæ—¶é—´èŒƒå›´å†…çš„æ¯æ—¥è¥æ”¶æ•°æ®

**è¯·æ±‚å‚æ•°**:
- `startDate` (Query): å¼€å§‹æ—¥æœŸï¼Œæ ¼å¼ï¼š"2024-01-01"ï¼Œå¿…å¡«
- `endDate` (Query): ç»“æŸæ—¥æœŸï¼Œæ ¼å¼ï¼š"2024-01-31"ï¼Œå¿…å¡«

### 32. è·å–ç”¨æˆ·æœ€è¿‘è´­ä¹°è®°å½•
**æ¥å£åœ°å€**: `GET /api/v1/orders/user/{userId}/recent`  
**æ¥å£æè¿°**: æŸ¥çœ‹ç”¨æˆ·æœ€è¿‘çš„è´­ä¹°å†å²

**è¯·æ±‚å‚æ•°**:
- `userId` (Path): ç”¨æˆ·IDï¼Œå¿…å¡«
- `limit` (Query): è®°å½•æ•°é‡é™åˆ¶ï¼Œé»˜è®¤10

---

## âœ… ä¸šåŠ¡éªŒè¯ç«¯ç‚¹

### 33. éªŒè¯è®¢å•æ”¯ä»˜æ¡ä»¶
**æ¥å£åœ°å€**: `GET /api/v1/orders/{id}/validate-payment`  
**æ¥å£æè¿°**: æ£€æŸ¥è®¢å•çŠ¶æ€å’Œæ”¯ä»˜å‰ç½®æ¡ä»¶

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«
- `userId` (Query): ç”¨æˆ·IDï¼Œå¿…å¡«

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "valid": true,
    "message": "è®¢å•å¯ä»¥æ”¯ä»˜",
    "paymentMethods": ["cash", "coin"],
    "requiredCoin": 100,
    "userCoinBalance": 500
  }
}
```

### 34. éªŒè¯è®¢å•å–æ¶ˆæ¡ä»¶
**æ¥å£åœ°å€**: `GET /api/v1/orders/{id}/validate-cancel`  
**æ¥å£æè¿°**: æ£€æŸ¥è®¢å•çŠ¶æ€å’Œå–æ¶ˆè§„åˆ™

### 35. éªŒè¯è®¢å•é€€æ¬¾æ¡ä»¶
**æ¥å£åœ°å€**: `GET /api/v1/orders/{id}/validate-refund`  
**æ¥å£æè¿°**: æ£€æŸ¥é€€æ¬¾æ”¿ç­–å’Œé€€æ¬¾æ¡ä»¶

---

## âš™ï¸ ç³»ç»Ÿç®¡ç†ç«¯ç‚¹

### 36. è·å–è¶…æ—¶è®¢å•
**æ¥å£åœ°å€**: `GET /api/v1/orders/timeout`  
**æ¥å£æè¿°**: æŸ¥è¯¢è¶…è¿‡æŒ‡å®šæ—¶é—´ä»æœªæ”¯ä»˜çš„è®¢å•

**è¯·æ±‚å‚æ•°**:
- `timeoutMinutes` (Query): è¶…æ—¶åˆ†é’Ÿæ•°ï¼Œé»˜è®¤30

### 37. è‡ªåŠ¨å–æ¶ˆè¶…æ—¶è®¢å•
**æ¥å£åœ°å€**: `POST /api/v1/orders/auto-cancel-timeout`  
**æ¥å£æè¿°**: ç³»ç»Ÿå®šæ—¶ä»»åŠ¡ï¼Œè‡ªåŠ¨å–æ¶ˆè¶…æ—¶æœªæ”¯ä»˜çš„è®¢å•

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": 15
}
```

### 38. è‡ªåŠ¨å®Œæˆå·²å‘è´§è®¢å•
**æ¥å£åœ°å€**: `POST /api/v1/orders/auto-complete-shipped`  
**æ¥å£æè¿°**: ç³»ç»Ÿå®šæ—¶ä»»åŠ¡ï¼Œè‡ªåŠ¨å®Œæˆé•¿æ—¶é—´æœªç¡®è®¤æ”¶è´§çš„è®¢å•

**è¯·æ±‚å‚æ•°**:
- `days` (Query): å‘è´§åå¤©æ•°ï¼Œé»˜è®¤7

### 39. ç»Ÿè®¡å•†å“è®¢å•æ•°
**æ¥å£åœ°å€**: `GET /api/v1/orders/count/goods/{goodsId}`  
**æ¥å£æè¿°**: æ ¹æ®å•†å“IDç»Ÿè®¡è®¢å•æ•°é‡

**è¯·æ±‚å‚æ•°**:
- `goodsId` (Path): å•†å“IDï¼Œå¿…å¡«
- `status` (Query): è®¢å•çŠ¶æ€ï¼Œå¯é€‰

### 40. ç»Ÿè®¡ç”¨æˆ·è®¢å•æ•°
**æ¥å£åœ°å€**: `GET /api/v1/orders/count/user/{userId}`  
**æ¥å£æè¿°**: æ ¹æ®ç”¨æˆ·IDç»Ÿè®¡è®¢å•æ•°é‡

### 41. æ›´æ–°è®¢å•æ”¯ä»˜ä¿¡æ¯
**æ¥å£åœ°å€**: `POST /api/v1/orders/{id}/update-payment-info`  
**æ¥å£æè¿°**: å†…éƒ¨ç³»ç»Ÿè°ƒç”¨ï¼Œæ›´æ–°è®¢å•çš„æ”¯ä»˜çŠ¶æ€å’Œæ—¶é—´

**è¯·æ±‚å‚æ•°**:
- `id` (Path): è®¢å•IDï¼Œå¿…å¡«
- `payStatus` (Query): æ”¯ä»˜çŠ¶æ€ï¼Œå¿…å¡«
- `payMethod` (Query): æ”¯ä»˜æ–¹å¼ï¼Œå¿…å¡«
- `payTime` (Query): æ”¯ä»˜æ—¶é—´ï¼Œå¿…å¡«

### 42. è®¢å•ç³»ç»Ÿå¥åº·æ£€æŸ¥
**æ¥å£åœ°å€**: `GET /api/v1/orders/health`  
**æ¥å£æè¿°**: æ£€æŸ¥è®¢å•ç³»ç»Ÿçš„è¿è¡ŒçŠ¶æ€

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ“ä½œæˆåŠŸ",
  "data": "è®¢å•ç³»ç»Ÿè¿è¡Œæ­£å¸¸, æ•°æ®åº“è¿æ¥æ­£å¸¸, ç¼“å­˜æœåŠ¡æ­£å¸¸, ç”¨æˆ·æœåŠ¡è¿æ¥æ­£å¸¸"
}
```

---

## ğŸ“ é€šç”¨è¯´æ˜

### çŠ¶æ€ç è¯´æ˜
- `SUCCESS`: æ“ä½œæˆåŠŸ
- `USER_NOT_FOUND`: ç”¨æˆ·ä¸å­˜åœ¨
- `ORDER_NOT_FOUND`: è®¢å•ä¸å­˜åœ¨
- `ACCESS_DENIED`: æ— æƒé™è®¿é—®
- `INVALID_PARAM`: å‚æ•°é”™è¯¯
- `PAYMENT_FAILED`: æ”¯ä»˜å¤±è´¥
- `QUERY_FAILED`: æŸ¥è¯¢å¤±è´¥

### è®¢å•çŠ¶æ€
- `pending`: å¾…æ”¯ä»˜
- `paid`: å·²æ”¯ä»˜
- `shipped`: å·²å‘è´§
- `completed`: å·²å®Œæˆ
- `cancelled`: å·²å–æ¶ˆ
- `refunded`: å·²é€€æ¬¾

### æ”¯ä»˜çŠ¶æ€
- `unpaid`: æœªæ”¯ä»˜
- `paid`: å·²æ”¯ä»˜
- `failed`: æ”¯ä»˜å¤±è´¥
- `refunded`: å·²é€€æ¬¾

### å•†å“ç±»å‹
- `coin`: é‡‘å¸å……å€¼
- `content`: ä»˜è´¹å†…å®¹
- `subscription`: è®¢é˜…æœåŠ¡
- `goods`: å®ä½“å•†å“

### æ”¯ä»˜æ–¹å¼
- `cash`: ç°é‡‘æ”¯ä»˜
- `coin`: é‡‘å¸æ”¯ä»˜

### æƒé™éªŒè¯
æ‰€æœ‰æ¶‰åŠç”¨æˆ·æ•°æ®çš„æ¥å£éƒ½éœ€è¦ä¼ å…¥userIdè¿›è¡Œæƒé™éªŒè¯ï¼Œç¡®ä¿ç”¨æˆ·åªèƒ½æ“ä½œè‡ªå·±çš„æ•°æ®ã€‚ç®¡ç†å‘˜æ“ä½œéœ€è¦ä¼ å…¥operatorIdæ ‡è¯†æ“ä½œè€…èº«ä»½ã€‚

---

**APIæ€»è®¡**: 42ä¸ªRESTç«¯ç‚¹  
**å®Œæ•´æ€§**: è¦†ç›–è®¢å•å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†  
**å®‰å…¨æ€§**: ä¸¥æ ¼çš„æƒé™éªŒè¯å’Œæ•°æ®æ ¡éªŒ  
**æ˜“ç”¨æ€§**: æ ‡å‡†åŒ–çš„RESTfulè®¾è®¡å’Œå“åº”æ ¼å¼